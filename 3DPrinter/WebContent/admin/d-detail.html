<div class="big-title">
	<h3>生产订单详情</h3>
</div>

<div class="grid-box">
	<div class="panel panel-default">
		<div class="panel-heading font-bold">查看订单</div>
		<div class="panel-body">

		<div class="detail-box1">
			

			<div class="order" >

					<div class="order-info2">
						<div class="order-detail">
						<div class="item">
							<div class="col-sm-4">模型文件</div>
							<div class="col-sm-2">大小</div>
							<div class="col-sm-2">材料</div>
							<div class="col-sm-2">颜色</div>
							<div class="col-sm-2">数量</div>
						</div>
						</div>
					</div>

					<div class="order-detail">
						<div class="row" ng-repeat="item in order.items">
							<div class="col-sm-4">	
								<div class="detail">
									
									<a href="">{{item.modelName}}</a>
									<a href="" show-upload-model class="pull-right" ng-if="order.orderState=='待收货'" ng-transclude ng-click="item_id=item.orderID">上传</a>
								</div>
							</div>
							<div class="col-sm-2">	
								<div class="detail">
							
									<input type="text" class="change-item" ng-model="item.size">
								</div>
							</div>
							<div class="col-sm-2">	
								<div class="detail">
									<span>
										<select name="" id="" class="change-item" ng-model="ma.value">
											<option value="{{m.materialName}}" ng-repeat="m in material" ng-selected="item.material==m.materialName">{{m.materialName}}</option>
										</select>
									</span>
				
								</div>
							</div>
							<div class="col-sm-2">	
								<div class="detail">
									<select class="change-item" ng-model="color.value">
										<option value="原色">原色</option>
										<option value="全彩">全彩</option>
										<option value="白色">白色</option>
										<option value="蓝色">蓝色</option>
										<option value="粉色">粉色</option>
										<option value="紫色">紫色</option>
									</select>
								</div>
							</div>
							<div class="col-sm-2">
								<div class="detail">
									<input type="text" class="change-item" ng-model="item.quantity">
								</div>
							</div>

<!-- model fade -->

<div class="modal fade" id="upload-modal" ng-controller="ItemUploadCtrl">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" type="button" data-dismiss="modal">
						<span aria-hidden="true" class="glyphicon glyphicon-remove"></span>
						<span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title">上传成品</h4>
				</div>

				<div class="modal-body">
					<div class="title-box">
						<label for="" class="control-label col-sm-3">产品名称</label>
						<div class="col-sm-9 rr">
							<input ng-model="item.title" type="text" class="form-control" ng-blur="show1=item.title==null?true:false">
							<span ng-if="show1" class="r-notice">请输入标题</span>
						</div>
					</div>
					<div class="img-box">
						<img ng-src="{{item.image}}" alt="">
					</div>
					<div class="upfilebox">
						<input type="file" name="itemImg" bane-file-select="onSelect($files,$error,$dataForm)" file-types="imgType" max-size="'50000000'" create-form="true"  upload-data="data" />
						<label for="">上传图片</label>
					</div>
					<botton class="btn btn-info" ng-transclude show-upload-model ng-click="setTitle(item)">确定</botton>
				</div>
			</div>
		</div>
</div>

<!-- model fade end -->
						</div>
					</div>					
			</div>

			<button ng-if="!order.$editing && order.orderState=='待确认'" class="btn btn-info edite-item" ng-click="order.$editing=true;" >
				<i class="glyphicon glyphicon-pencil"></i>编辑
			</button>
			<button ng-if="order.$editing && order.orderState=='待确认'" class="btn btn-success edite-item" ng-click="changeOrder()"><i class="glyphicon glyphicon-floppy-disk"></i>保存</button>
			<h4>订单编号:&nbsp;{{order.orderID}}</h4>
			<div class="con">
				<dl>
					<dt>收货地址</dt>
					<dd ng-if="!order.$editing">{{order.receiver}}，{{order.phone}}，{{order.direction}} ，{{order.postCode}}</dd>
					<dd ng-if="order.$editing">
						<div class="change-info">
							<p>
								<span class="lab">收件人名</span>
								<span class="input"><input class="form-control"  type="text" ng-model="order.receiver"></span>
							</p>
							<p>
								<span class="lab">联系电话</span>
								<span class="input"><input class="form-control" type="text" ng-model="order.phone"></span>
							</p>
							<p>
								<span class="lab">邮政编码</span>
								<span class="input"><input class="form-control" type="text" ng-model="order.postCode"></span>
							</p>
							<p>
								<span class="lab">收件地址</span>
								<span class="input"><input class="form-control" type="text" ng-model="order.direction"></span>
							</p>
						</div>
					</dd>
				</dl>
				<dl>
					<dt>买家留言</dt>
					<dd>{{order.remark}}</dd>
				</dl>
			</div>

			<div class="con">
				<dl>
					<dt>订单信息</dt>
					<dd>
						<p><span>创建时间:&nbsp;{{order.orderDate | date:'yyyy-MM-dd HH:mm:ss'}}</span>
						<span>确认时间:&nbsp;{{order.orderDate | date:'yyyy-MM-dd HH:mm:ss'}}</span>
						<span>取消时间:&nbsp;{{order.checkDate | date:'yyyy-MM-dd HH:mm:ss'}}</span></p>
						<p><span>付款时间:&nbsp;{{order.payDate | date:'yyyy-MM-dd HH:mm:ss'}}</span>
						<span>发货时间:&nbsp;{{order.deliverDate | date:'yyyy-MM-dd HH:mm:ss'}}</span>
						<span>签收时间:&nbsp;{{order.receiveDate | date:'yyyy-MM-dd HH:mm:ss'}}</span></p>
					</dd>
				</dl>
			</div>

			<div class="con">
				<dl>
					<dt>设计师</dt>
					<dd>{{order.designer}}</dd>
				</dl>
				<dl>
					<dt>当前状态</dt>
					<dd>{{order.orderState}}</dd>
				</dl>
			</div>


		</div>

		<div class="col-sm-offset-5 col-sm-3">
			<button class="btn btn-primary" ng-click="back()">返回列表</button>
			<button class="btn btn-primary"ng-if="order.orderState=='待确认'" ng-click="checkOrder()">确认订单</button>
			<button class="btn btn-primary"ng-if="order.orderState=='待生产'" ng-click="makeProduct()">生产订单</button>
			<button class="btn btn-primary"ng-if="order.orderState=='待发货'" ng-click="deliver()">确认发货</button>
		</div>

		</div>
	</div>
</div>





